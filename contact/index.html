---
layout: page
---

<style>
 #map {
   width: 60%;
   height: 400px;
   background-color: grey;
 }
</style>

<h2>Contact</h2>

<p><strong>
{{ site.header_1 }}<br />
{{ site.meeting_location }}<br />
{{ site.meeting_address }}<br />
{{ site.meeting_city }}, {{ site.meeting_state }} {{ site.meeting_zip }}<br />
Phone: {{ site.phone_number }}
</strong></p>

<h3>Command Staff</h3>

<p id="contact"></p>

<p><a class="big button" href="/about/staff">Squadron Senior Staff</a></p>

<h3>Meeting Schedule</h3>

<p>{{ site.meeting_schedule }}</p>

<h3>Meeting Location</h3>

<p>{{ site.meeting_location_description }}</p>

<div id="map"></div>

{% include scripts.html %}
<script>
  function initMap() {
    var uluru = {lat: {{ site.meeting_latitude }}, lng: {{ site.meeting_longitude }} };
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: {{ site.meeting_map_zoom }},
      center: uluru
    });
    var marker = new google.maps.Marker({
      position: uluru,
      map: map
    });
  }
</script>

<script async defer
    src="https://maps.googleapis.com/maps/api/js?key={{ site.gmap_api_key }}&callback=initMap">
</script>

<script>
$.ajax({
  url: "{{ site.txwg_api_url }}/staff",
  type: 'GET',
  dataType: 'json',
  success: function(data) {
    var staff_order = {{ site.contact_staff | json | replace: '=>', ':' }};
    $.each( staff_order, function( s, position ) {
      $.each( data, function( i, item ) {
        if( position == $.trim(item.Duty) ) {
          $( "<strong>" + position + ":</strong> <a href=\"mailto:" + item.Email + "\">" + item.Rank + " " + item.NameFirst + " " + item.NameLast + "</a><br />" )
          .appendTo( "#contact" );
        }
      });
    });
  },
  error: function() { console.log('Error processing ajax function.'); },
  beforeSend: function(xhr) {
    xhr.setRequestHeader( 'Token', "{{ site.txwg_api_key }}" );
  }
});
</script>
